### 功能
> 开发一个项目,先写什么功能? 注册? 登录 ? 首页? 订单? 购物车? 商品? 支付? 分类?
> 先写什么都行.写项目除非有明确的紧急程度划分,因为只要有了表,就知道写什么东西了

### 需求分析
> 我已经知道需要什么东西了,具体如何实现,大约需要设计什么表,表中有什么字段,是什么类型,表和表之间是什么关系,大体的思考出来
> 并且写下来,目的是怕忘记,而且一定会忘记

### 注册
> 什么是注册? 新增了一条用户信息, 用户的信息要严格按照我们的要求传递,出现了一个名词:用户,大家可以简单的这么认为,一个名词至少对应一张表
> 名字里面的一些描述对应的都是列, 用户主要是记录用户名密码邮箱性别等等信息的,下一步分析 什么数据是需要用户传递的,什么是不需要用户传递的
> 比如此处我们的账号密码邮箱性别是用户传递的,其他的都不是


### 接口
> 我们已经简单的分析了一个功能, 下一步进行接口的开发,什么是接口, 一个 url 地址,用于供前端进行访问传递数据获取结果的
> 接口都是先定义,后编写,我们可以先定义好地址,以及需要的参数的名字,值的格式, 传递的参数格式,然后返回的结果是什么
> 类似于生活中我们常见的一些场景, 比如xxx将于几月几号开始对外提供什么服务,这个服务需要你携带 什么什么资料过来
> 接口是先定义后开发


### 注册接口的定义
1. 接口地址
> /register  我们这里只写了部分地址,因为前面的前缀会随着服务器的所在的地址变化而变化

2. 接口的参数
> 请求注册接口需要传递的数据



|     参数名     | 参数介绍 | 数据格式 | 是否必填 |     参数示例      |
| :------------: | :------: | :------: | :------: | :---------------: |
|    username    |  用户名  |  String  |    1     |     zhangsan      |
|    password    |   密码   |  String  |    1     |   1234567890aa    |
| repeatpassword | 重复密码 |  String  |    1     |   1234567890aa    |
|     email      |   邮箱   |  String  |    1     | zhangsan@lisi.com |
|     gender     |   性别   |   int    |    1     |     0 女 1 男     |
|    nickname    |   昵称   |  String  |    1     |     法外狂徒      |



3. 返回结果
> 任何接口都应该给用户一个清晰明了的结果,比如是成功还是失败,失败的原因是什么. 不允许将异常返回给用户
>
> 再有一个,返回的结果应该尽量统一格式,即便无法统一格式,表达相同含义的结果的字段名应该保持一致



`暂定先通过 jsp 返回,数据展示通过 el 表达式,后面可以改成 html+ajax 来请求数据,返回 json格式的数据`




#### 邮件发送
> 我们发现,我们的邮件可以以新线程的方式发送,这样可以减少用户因为发送邮件带来的等待时间
> 但是频繁的创建和销毁线程是需要占用大量的资源的
> 线程创建需要申请空间 栈空间(先进后出),还要申请堆空间(TLAB THREADLOCAL ALLOCATION BUFFERS),申请这个空间要加锁,所以线程不能随意的频繁创建,特别是工作线程,就是处理业务的
> 所以我们学过一个东西 线程池

#### 登录
> 什么是登录? 就是判断用户的关键信息是不是正确的,如果正确的将用户的状态保存起来,下次来请求的时候检查状态就可以了
> 一般就是用户传递账号和密码过来,我们获取到之后查询数据库,但是我们的密码是 MD5 值,所以要么先把传递的密码转成 MD5 然后和用户名一起去查询,要么就先用用户名查询再比较密码,我们选择后者,因为用户名上有唯一索引,速度快




#### 商品
> 添加商品 其实就是把商品的信息保存到表中, 无非就是 id 名字 分类id 价格 描述 评分 .........无非就是10 个列还是 100 个列的问题
> 额外的问题,这个商品有一个图片,这个图片怎么保存? 图片这种文件格式的数据 我们一般不会保存到数据库,而是有专门保存文件的地方进行保存
> 新的问题来, 名字价格这些信息在数据库,我可以直接查询出来,但是图片不在数据库,怎么查?, 假如说我们的图片保存在某个磁盘下叫 fdsafghdshfghkdsgajfgadhjskfg.jpeg, 我们怎么知道这个图片和这个文件是一起的
> 所以在数据库中我们会保存图片的路径

#### 封装
> 将一些重复一样的操作抽取出来,然后使用的时候调用, 很多时候我们感觉不一样的东西很多也是一样的
> servlet 主要作用是 接收请求,获取数据,返回结果  实际上接收请求就是地址和方法之间的对应关系,我都已经找到方法了,我们方法内部的操作是不是可以执行
> 返回结果不外乎 转发,重定向和直接返回结果,都是通过 response 返回的,所以我只要想办法告诉我们装的地方,我是转发还是重定向还是直接返回,内容是什么就可以了
> 我们发现不论是转发还是重定向还是返回数据都是字符串,一个字符串的路径一个是字符串的内容, 我们只要想办法能区分出这个字符串代表的是转发还是重定向还是内容
> 如何区分? 区分不了我们就自定义规则来区分,比如如果你要转发 我要求你返回 forward:路径,重定向 redirect:开头 普通内容什么都不加
> 经过我们的一顿猛如虎,然后一脸懵逼的操作,我们将请求的映射封装到了配置文件中, 在代码中通过反射找到了这个请求对应的类和方法,然后执行,获取到返回结果后按照我们上面的规则进行了处理
> 现在我觉得比较麻烦的地方在于 配置文件每次增加一个请求地址都需要写一次,太麻烦了,要花好几秒中呢,像我这样优秀的人,本该灿烂过一生,怎么能浪费我的大好青春年华,毕竟我才 18 岁


#### 自定义注解
> 我们根据上午的思路,发现我们只需要做一个事情, 将地址和方法名建立映射关系就可以,但是每次写配置文件比较麻烦,所以我们想简化操作
> 我们约定 创建一个注解,注解里面有一个参数作为路径,然后这个注解加在哪个方法上面就以为这个路径映射到哪个方法
> 
> 我们首先定义了一个注解,这个注解的作用设置路径,所以我们定义了一个方法,因为路径是字符串,所以注解里面的返回值是字符串
> 同时我们为了更简化,还约定,这个注解如果写在类上面就代表这个类中的所有的方法都有这个前缀,最终路径就是类的注解的值加上方法的值
> 
> 写完注解之后,我们加在了类和方法上面, 但是注解光用是没有任何效果的,必须要解析,因为这个注解的作用是我们自己约定的,是我们自己的想法,程序不知道吗,如果它知道了,你要考虑一下是不是遇到了鬼打墙,鬼压床,鬼骑背...也就是说你见鬼了
> 所以我们必须自己解析,按照我们上面的约定解析
> 我们的目的是在访问的时候找到路径, 所以在访问之前就必须已经解析完毕, 所以我们放在了监听器随着程序启动而解析
> 因为注解加在上面类上面 我们不知道, 加在什么方法上面也不知道,所以我们需要遍历所有的类和方法,看看有没有注解


#### 购物车
> 用于保存某个用户想要买的东西,保存就需要保存到某个位置,这个位置选择什么地方. 理论来说只要能保存数据的地方都可以作为购物车保存的地方
> 技术和业务的区别,业务是我想要怎么着,技术是如何实现你想要的怎么着, 购物车数据是存在本地还是服务器
> 我们业务选择保存在数据库中


#### 订单
> 下单, 生成订单, 什么是订单?作用是什么? 来一个介绍:用于记录哪个用户在什么时间购买了什么商品,总价多少,是不是支付了或者取消了,邮寄到什么地方等等
> 请求下单接口, 传递要购买的商品的 id 和数量
> 订单的主键是我们自己定义的,可以是自增的,也可以是随机的,也可以是按照某个规律生成的  商家的标识随机数校验值用户标识符

#### 作业
> ## 删除购物车,(完成点击清空购物车按钮实现清空功能)
> 清空购物车,获取当前登录的用户id,删除该id下的所有数据
> ## 订单的列表查看和取消订单,(实现点击我的订单查看该用户的订单,取消订单)
> 订单列表的查看需要查询到所有订单,将他显示在一个页面上
> 取消订单相当于???相当于删除该页面的某个订单
> ## 地址的添加,删除,更新(实现点击地址管理可以查看该用户的地址,点击添加按钮实现为该用户添加地址,以及更新删除)
> 添加:添加到tb_a~~ddress表中~~



